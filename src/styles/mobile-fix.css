
/* MOBILE SCROLL FIX - COMPLETE SYSTEM REWRITE */

/* Global mobile body and html fixes */
@media (max-width: 768px) {
  html.mobile-html, 
  body.mobile-body {
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
    overflow-x: hidden !important;
    overflow-y: auto !important;
    position: static !important;
    transform: none !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y !important;
    overscroll-behavior: auto !important;
    scroll-behavior: auto !important;
  }

  /* Mobile wrapper - ensures proper scroll context */
  .mobile-wrapper {
    position: static !important;
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y !important;
  }

  /* Layout containers - simplified for mobile */
  .layout-container {
    position: static !important;
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
    background: #f8fafc;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y !important;
  }

  .content-wrapper {
    position: static !important;
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y !important;
  }

  .main-content {
    position: static !important;
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y !important;
  }

  /* Page containers - unified approach */
  .page-container,
  .mobile-page-container,
  [class*="page-"] {
    position: static !important;
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y !important;
    background: #f8fafc !important;
  }

  /* Remove all height constraints that might interfere */
  .min-h-screen,
  .h-screen,
  [class*="min-h-"],
  [class*="h-screen"] {
    min-height: auto !important;
    height: auto !important;
  }

  /* Container fixes */
  .container {
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y !important;
  }

  /* Card and component fixes */
  .card,
  [class*="card"] {
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
  }

  /* Grid and layout fixes */
  .grid {
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
  }

  /* Remove transforms that might interfere */
  [style*="transform"],
  [class*="transform"] {
    transform: none !important;
  }

  /* Motion component fixes */
  [data-framer-motion] {
    transform: none !important;
    position: static !important;
  }

  /* Framer Motion overrides */
  .main-content > div[style*="transform"] {
    transform: none !important;
  }

  /* Navigation fixes */
  nav, 
  [role="navigation"] {
    position: relative !important;
    z-index: 50;
  }

  /* Footer fixes */
  footer {
    position: static !important;
    margin-top: auto;
  }

  /* Scroll area fixes */
  [data-radix-scroll-area-viewport] {
    height: auto !important;
    max-height: 300px !important;
  }

  /* Dialog and modal fixes */
  [data-radix-dialog-overlay] {
    position: fixed !important;
  }

  /* Tab content fixes */
  [data-radix-tabs-content] {
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
  }

  /* Force scroll reset class */
  .force-scroll-reset {
    scroll-behavior: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* Emergency scroll fix for stuck elements */
  .scroll-emergency-fix * {
    position: static !important;
    transform: none !important;
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
  }
}

/* Dark mode mobile fixes */
@media (max-width: 768px) {
  .dark .layout-container,
  .dark .page-container,
  .dark .mobile-page-container {
    background: #0f172a !important;
  }
}

/* Debug utility - remove in production */
@media (max-width: 768px) {
  .debug-mobile-scroll {
    position: fixed !important;
    top: 10px;
    right: 10px;
    background: red;
    color: white;
    padding: 5px;
    font-size: 12px;
    z-index: 9999;
    border-radius: 3px;
  }
}
